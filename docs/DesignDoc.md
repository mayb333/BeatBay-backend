# BeatBay System Design Document
# 1. Введение
## 1.1 Цели и предназначение
* **Описание целей**:
    1. **Упрощение процесса покупки и продажи битов**:
        - Создание интуитивно понятного и удобного интерфейса, который упрощает процесс поиска, прослушивания и покупки битов для артистов, а также загрузки и управления битами для битмейкеров. Цель - обеспечить простоту и эффективность процесса торговли, делая его доступным и понятным для каждого участника рынка.
    2. **Создание единой платформы для рынка битов в СНГ**:
        - Построение централизованного сервиса, нацеленного на объединение битмейкеров и артистов в регионе СНГ. Целью является предложение удобной и безопасной альтернативы неформальным каналам продаж, таким как телеграм-каналы и чаты, которые часто не предоставляют достаточной защиты и поддержки. Это изменение направлено на укрепление рыночных связей, повышение доверия и удобства пользователей, а также на создание структурированной и прозрачной среды для торговли битами.
    3. **Автоматизация процесса передачи прав**:
        - Разработка системы автоматического управления правами на биты, включающей создание четких лицензионных соглашений, генерацию документации и отслеживание транзакций. Это направлено на обеспечение законности сделок, защиту прав обеих сторон и уменьшение рисков, связанных с лицензированием. Систематизация этого процесса значительно упростит управление лицензиями, сделает их более понятными и доступными для пользователей.
* **Решаемые проблемы**:
    1. **Сложности битмейкеров из СНГ с продажей битов**:
        - Битмейкеры в регионе СНГ сталкиваются с уникальными трудностями из-за ограниченного доступа к популярным международным платформам типа Beatstars из-за отсутствия поддержки ключевых платежных систем, таких как PayPal. Это вынуждает их прибегать к неформальным и неудобным методам продажи через социальные сети и мессенджеры, такие как телеграм, инстаграм и ютуб, что снижает их доходность и юридическую защищенность. Маркетплейс решит эту проблему, предоставив удобную и надежную платформу для продажи битов с поддержкой локальных платежных систем.
    2. **Трудности артистов из СНГ с поиском и покупкой битов**:
        - Аналогично, артисты в СНГ сталкиваются с ограничениями при покупке битов из-за недоступности международных платежных систем и неудобства использования неформализованных каналов продаж. Это ограничивает их возможности в выборе и приобретении качественных битов. Маркетплейс предложит решение с легкодоступными инструментами поиска и фильтрации, а также интеграцией локальных платежных методов, что упростит процесс покупки и расширит возможности артистов.
    3. **Сложности с процессом передачи прав и прозрачностью оплаты**:
        - Неопределенность и риски, связанные с передачей прав и оплатой, существенно усложняют взаимодействие между битмейкерами и артистами. Маркетплейс предложит автоматизированное управление лицензиями, четкие соглашения и надежные платежные системы, что обеспечит прозрачность и надежность транзакций, а также снизит юридические риски для всех участников.

## 1.2 Описание продукта
* **Функциональное описание**:
    - Дайте обзор основных функций маркетплейса, таких как поиск битов, прослушивание, покупка, загрузка и управление битами.
    - **Целевая аудитория**: Опишите основные группы пользователей (например, битмейкеры, артисты, музыкальные продюсеры) и их ключевые потребности, которые маркетплейс будет удовлетворять.

# 2. Обзор системы
## 2.1 Архитектура
* **Структура системы**:
    - Опишите основные компоненты системы, такие как пользовательский интерфейс, сервер приложений, база данных, система управления контентом и их взаимосвязь.
* **Диаграмма архитектуры**:
    - Предоставьте диаграмму, которая иллюстрирует высокоуровневую архитектуру системы, включая внешние интеграции и потоки данных.

## 2.2 Технологический стек
* **Фронтенд**:
    - Укажите технологии, используемые для разработки пользовательского интерфейса, например, React, Vue.js.
* **Бэкенд**:
    - Опишите серверные технологии, например, Node.js, Ruby on Rails, базы данных, такие как PostgreSQL, MongoDB.
* **Инфраструктура**:
    - Укажите инфраструктурные решения, например, серверы, облачные сервисы типа AWS, системы контроля версий.
* **Дополнительные инструменты и сервисы**:
    - Перечислите инструменты для мониторинга, логирования, аналитики, платежных систем и других внешних интеграций.
# 3. Функциональные требования
## 3.1 Пользовательские роли
* **Битмейкеры**:
    - Опишите функциональность доступную битмейкерам: регистрация, загрузка битов, установка цен, просмотр статистики и отзывов, управление лицензиями.
* **Артисты**:
    - Опишите функциональность доступную артистам: прослушивание битов, покупка, загрузка, управление покупками, настройки уведомлений о новых битах.
* **Администраторы**:
    - Опишите инструменты для управления контентом, пользователями, транзакциями, отчетами и настройками платформы.

## 3.2 Основные функции
### 3.2.1 Регистрация пользователя:

* Пользователь должен иметь возможность создать аккаунт, указав свои данные (имя, электронная почта, пароль).

### 3.2.2 Авторизация пользователя:

* Пользователь должен иметь возможность войти в свой аккаунт с помощью электронной почты и пароля.

### 3.2.3 Создание объявления о продаже бита:

* **Создание объявлений**: Пользователь должен иметь возможность создать объявление о продаже бита, включая следующую информацию:
   - Название бита
   - Описание бита
   - Жанры бита
   - Цена бита
   - Файл бита (wav, mp3, STEMS)
   - Фильтры (бпм, тональность, настроение)

* **Добавление фильтров к объявлению**: Пользователь должен иметь возможность добавить фильтры к своему объявлению для улучшения поиска. Фильтры могут включать следующие параметры:
   - Бпм
   - Тональность
   - Настроение (например, грустный, веселый, агрессивный)
   - Теги (#808, #travisscot и тп)

* **Выбор аватарки для бита**: Пользователь должен иметь возможность выбрать изображение в качестве аватарки для своего бита. Аватарка должна отображаться на странице объявления о продаже и в результатах поиска.

* **Подписание бумаг о передаче прав**: Пользователь должен согласиться с условиями о передаче прав на инструментал (поставить соглашение на предоставленных бумагах в электронном виде)

### 3.2.4 Прослушивание битов перед покупкой:

* Пользователь должен иметь возможность прослушать биты перед покупкой. На странице объявления о продаже должен быть встроенный проигрыватель, который позволит пользователю ознакомиться с битом.

### 3.2.5 Поиск битов по фильтрам:

* Пользователь должен иметь возможность найти биты, соответствующие определенным фильтрам. Поиск должен осуществляться по следующим параметрам:
   - Бпм
   - Тональность
   - Жанр
   - Стоимость
   - Настроение
   - Теги

### 3.2.6 Корзина:

* Пользователь должен иметь возможность добавить биты в корзину и одновременно приобрести несколько битов одним заказом.

### 3.2.7 Оформление заказа:

* Пользователь должен иметь возможность оформить заказ после выбора битов в корзине. После оформления заказа, пользователь будет перенаправлен на страницу оплаты, где сможет ввести свои данные для оплаты.
После оплаты, пользователь получит документы о передаче прав на инструментал (в формате PDF)

### 3.2.8 Управление профилем пользователя:

* Пользователь должен иметь возможность изменять информацию в своем профиле, включая имя, электронную почту, пароль и аватарку.

### 3.2.9 Уведомления:
* Пользователь должен иметь возможность получать уведомления о новых битах, комментариях и других активностях, связанных с его объявлениями и покупками.

### 3.2.10 Административные возможности:

* Администратор должен иметь возможность управлять объявлениями и пользователями, модерировать комментарии и решать спорные ситуации.

## 3.3 Пользовательские сценарии
### 3.3.1 Сценарий: Битмейкер загружает новый бит
* **Цель**: Загрузить и представить новый бит потенциальным покупателям.

* **Пользователь**: Битмейкер (продавец).

* **Шаги**:
    - **Аутентификация**: Битмейкер входит в систему, используя свои учетные данные.
    - **Переход к загрузке**: Нажимает на кнопку "Загрузить бит" на панели инструментов.
    - **Заполнение информации**: Вводит информацию о бите (название, жанр, темп, тональность, описание, настроения, тэги, а также выбирает опции покупки бита: название, цена и предоставляемые файлы (mp3, wav, stems)).
    - **Загрузка файла**: Выбирает основной MP3-файл бита с компьютера и загружает его на сервер. Также он загружает wav- и stems-файлы, если они были указаны в опциях покупки бита в предыдущем шаге.
    - **Предпросмотр и проверка**: Прослушивает фрагмент бита для убеждения в его качестве и проверяет правильность введенной информации.
    - **Согласие с условиями передачи прав**: Соглашается с условиями платформы, которые включают передачу прав на использование бита покупателю.
    - **Публикация**: Нажимает кнопку "Опубликовать", делая бит доступным для покупки.
* **Ожидаемый результат**:
    - Бит опубликован на маркетплейсе и доступен для прослушивания и покупки пользователями.

### 3.3.2 Сценарий: Артист ищет и покупает бит
* **Цель**: Найти и купить подходящий бит для нового трека.

* **Пользователь**: Артист (покупатель).

* **Шаги**:
    - **Поиск**: Вводит ключевые слова (например, жанр, настроение) в поисковую строку.
    - **Фильтрация**: Использует фильтры, чтобы уточнить результаты поиска (например, по цене, темпу).
    - **Прослушивание**: Прослушивает найденные биты.
    - **Выбор бита**: Выбирает бит, который наиболее подходит для его трека.
    - **Покупка**: Нажимает на кнопку "Купить" и проходит процесс оплаты.
    - **Передача прав**: После покупки артист получает документ о передаче прав, подписанный битмейкером. Для выполнения передачи прав артист подписывает документ.
    - **Загрузка**: После покупки загружает полную версию бита.
* **Ожидаемый результат**:
    - Артист успешно находит, покупает и загружает бит для использования в своей музыке.

### 3.3.3 Сценарий: Мониторинг продаж и статистики битмейкером
* **Цель**: Оценить успех и популярность своих битов.

* **Пользователь**: Битмейкер.

* **Шаги**:
    - **Аутентификация**: Вход в систему.
    - **Переход к статистике**: Нажатие на вкладку "Моя статистика".
    - **Анализ продаж**: Просмотр количества продаж, дохода и популярных битов.
    - **Анализ прослушиваний**: Просмотр данных о количестве прослушиваний и интересе к разным битам.
    - **Получение обратной связи**: Чтение комментариев и отзывов покупателей.

* **Ожидаемый результат**:
    - Битмейкер получает полную информацию о продажах и популярности своих битов, что помогает планировать будущие загрузки

### 3.3.4 Сценарий: Подписание документов о передаче прав на бит
* **Цель**: Оформить юридическую передачу прав на купленный бит.

* **Пользователь**: Битмейкер (продавец) и Артист (покупатель).

* **Шаги**:
    - **Артист выбирает бит для покупки.**
    - **Покупка**: Артист нажимает кнопку "Купить" и проходит процесс оплаты.
    - **Загрузка**: После покупки артист загружает полную версию бита.
    - **Автоматическая генерация документа**: Система автоматически генерирует документ о передаче прав на бит.
    - **Подписание документа**: Артист и битмейкер подписывают документ онлайн, соглашаясь с условиями передачи прав (битмейкер подписывает заранее, в момент выкладывания бита).
    - **Подтверждение**: Система отправляет уведомление о подписании документа обоим сторонам.
    - **Хранение документов**: Система сохраняет подписанный документ в защищенном хранилище.

* **Ожидаемый результат**:
    - Битмейкер и артист имеют юридически оформленную передачу прав на бит, подтвержденную подписанным документом.


# 4. Нефункциональные требования
## 4.1 Производительность
* **Объем трафика и время отклика**:
    - Укажите ожидаемый объем трафика и требования к времени отклика системы.
* **Масштабируемость**:
    - Опишите планы и стратегии для масштабирования системы в ответ на увеличение нагрузки.
## 4.2 Надежность и отказоустойчивость
* **Стратегии обеспечения стабильной работы**:
    - Опишите механизмы резервирования, балансировки нагрузки и аварийного восстановления.
## 4.3 Безопасность
* **Защита данных**:
    - Опишите стратегии шифрования, аутентификации, авторизации и защиты от XSS, CSRF и других видов атак.
* **Соответствие стандартам**:
    - Укажите, какие стандарты безопасности данных (например, PCI DSS для платежных систем) будут соблюдены.
# 5. Бизнес-аспекты
## 5.1 Модель монетизации
* **Способы заработка**:
    - Опишите, как маркетплейс будет приносить доход, например, через комиссии с продаж, подписки для продавцов, платные функции для покупателей.
## 5.2 Маркетинговая стратегия
* **Каналы привлечения**:
    - Перечислите планируемые каналы и методы маркетинга, такие как социальные сети, контент-маркетинг, партнерские программы.
## 5.3 Метрики успеха
* **Ключевые показатели**:
    - Определите KPIs, такие как ежедневные активные пользователи (DAU), коэффициент конверсии, средний доход на пользователя (ARPU) и др.
# 6. Техническое проектирование
## 6.1 База данных
* **Схемы и модели данных**:
    - Опишите сущности, их атрибуты и связи, а также выбор СУБД.
## 6.2 APIs и интеграции
* **Внутренние и внешние API**:
    - Опишите, какие API будут разработаны для взаимодействия компонентов системы, а также интеграции с внешними сервисами.
## 6.3 Масштабирование и оптимизация
* **Стратегии и технологии**:
    - Детализируйте подходы и технологии, которые будут использоваться для оптимизации производительности и масштабирования системы.
# 7. План разработки
* **Фазы и этапы**:
    - Разбейте проект на основные фазы разработки и описывайте задачи, цели и сроки для каждой из них.
* **Ресурсы**:
    - Оцените необходимые ресурсы, включая команду, инструменты, технологии и бюджет.
# 8. Риски и предположения
* **Возможные риски**:
    - Опишите потенциальные риски (технические, рыночные, бизнес-риски) и стратегии их минимизации.
* **Предположения**:
    - Перечислите ключевые предположения, лежащие в основе плана проекта.
# 9. Приложения
* **Диаграммы и чертежи**:
    - Включите дополнительные схемы, диаграммы архитектуры, макеты интерфейса и другие визуальные материалы, которые помогут лучше понять структуру и функциональность системы.
# Заключение
* **Итоговые мысли**:
    - Подведите итоги основных моментов документа, отразите следующие шаги или рекомендации.
